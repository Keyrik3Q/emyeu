function removeHtmlStorage(e) { localStorage.removeItem(e), localStorage.removeItem(e + "_time") }

function setHtmlStorage(e, t, c) {
    if (void 0 == c || "null" == c) var c = 3600;
    var o = new Date,
        a = Math.round(o.setSeconds(o.getSeconds() + c) / 1e3);
    localStorage.setItem(e, t), localStorage.setItem(e + "_time", a)
}

function statusHtmlStorage(e) {
    var t = new Date,
        c = Math.round(+t / 1e3);
    if (void 0 == (o = localStorage.getItem(e + "_time")) || "null" == o) var o = 0;
    return o < c ? (removeHtmlStorage(e), 0) : 1
}

function show_option() { $(".button-setting").on("click", function() { $(this).hasClass("active") ? ($(this).removeClass("active"), $(".options").removeClass("show")) : ($(".options").addClass("show"), $(".recent-rf").removeClass("show"), $(".todolist").removeClass("show"), $(this).addClass("active"), $(".button-recent-visited,.button-todo").removeClass("active")), $(".tolltip ,.bfTolltip").fadeOut(200), $(".icon-cart").find(".cls-2").css("stroke", "#fff"), $(".icon-cart").find(".cls-1").css({ fill: "none", stroke: "fff" }) }), $(".button-recent-visited").on("click", function() { $(this).hasClass("active") ? ($(this).removeClass("active"), $(".recent-rf").removeClass("show")) : ($(".recent-rf").addClass("show"), $(this).addClass("active"), $(".todolist").removeClass("show"), $(".options").removeClass("show"), $(".button-setting,.button-todo").removeClass("active")), $(".tolltip ,.bfTolltip").fadeOut(200), $(".icon-cart").find(".cls-2").css("stroke", "#fff"), $(".icon-cart").find(".cls-1").css({ fill: "none", stroke: "fff" }) }), $(".button-todo").on("click", function() { 0 == $(".button-recent-visited:visible").length ? $(".todolist").css("right", "80px") : $(".todolist").css("right", "220px"), $(this).hasClass("active") ? ($(this).removeClass("active"), $(".todolist").removeClass("show")) : ($(".todolist").addClass("show"), $(".recent-rf").removeClass("show"), $(".options").removeClass("show"), $(".new_todo_list").focus(), $(this).addClass("active"), $(".button-setting,.button-recent-visited").removeClass("active"), $("#wrap-todo-list>li").each(function() { jQuery(this).children("textarea ").height(jQuery(this).children("div").height() + "px"), jQuery(this).children("div").hide() })), $(".tolltip ,.bfTolltip").fadeOut(200), $(".icon-cart").find(".cls-2").css("stroke", "#fff"), $(".icon-cart").find(".cls-1").css({ fill: "none", stroke: "fff" }) }), $(".button-setting").html(iconSetting), $(".ovelayTransparent, .logo, .wrap-desc, .wrap-widget , .weather ,.quotes").on("click", function() { $(".options, .recent-rf, .todolist").removeClass("show"), $(".button-setting,.button-recent-visited,.button-todo").removeClass("active") }), $(".ovelayTransparent, .logo, .wrap-widget , .weather ,.quotes").on("click", function() { $(".tolltip ,.bfTolltip").fadeOut(200), $(".icon-cart").find(".cls-2").css("stroke", "#fff"), $(".icon-cart").find(".cls-1").css({ fill: "none", stroke: "fff" }) }) }

function show_search() { $(".search-google").on("click", function() { $(this).addClass("show_tab"), $(".search-123rf").removeClass("show_tab"), $("#google-search-form").attr("action", "https://www.google.com/search"), $("#input-text").attr({ name: "q", placeholder: "Search Google" }), $("#utm_source").val(""), $("#utm_medium").val(""), $("#utm_campaign").val(""), $("#utm_content").val(""), $("#input-text").focus() }), $(".search-123rf").on("click", function() { $(this).addClass("show_tab"), $(".search-google").removeClass("show_tab"), $("#google-search-form").attr("action", "https://www.123rf.com/search.php"), $("#input-text").attr({ name: "word", placeholder: "Search Stock Photos" }), $("#utm_source").val("ChromeExt"), $("#utm_medium").val("Wallpaper"), $("#utm_campaign").val("PixlrToday"), $("#utm_content").val("Search#pixlr123rf"), $("#input-text").focus() }), $(".button-search").click(function(e) { doSearch() }), $("#input-text").keyup(function(e) { 13 === e.which && doSearch() }) }

function doSearch() {
    var e = $("#input-text").val();
    if ("" == e) $("#input-text").focus();
    var t = "https://www.google.com/search?q=" + (e = $("#input-text").val());
    document.location.href = t
}

function setting_search() {!1 === JSON.parse(localStorage.getItem("value_check_search")) ? ($("#searches").fadeOut(200), $("#check_search").prop("checked", !1), $("#check_search").removeClass("on")) : ($("#searches").fadeIn(200), $("#check_search").prop("checked", !0), $("#check_search").addClass("on")), $("#check_search").click(function() { localStorage.setItem("value_check_search", JSON.stringify(document.getElementById("check_search").checked)), $(this).is(":checked") ? ($("#searches").fadeIn(200), $("#check_search").addClass("on")) : ($("#searches").fadeOut(200), $("#check_search").removeClass("on")) }) }

function setting_recent() {!1 === JSON.parse(localStorage.getItem("value_check_recent")) ? ($(".button-recent-visited").fadeOut(200), $("#check_recent").prop("checked", !1), $("#check_recent").removeClass("on"), $(".todolist").css("right", "80px")) : ($(".button-recent-visited").fadeIn(200), $("#check_recent").prop("checked", !0), $("#check_recent").addClass("on"), $(".todolist").css("right", "220px")), $("#check_recent").click(function() { localStorage.setItem("value_check_recent", JSON.stringify(document.getElementById("check_recent").checked)), $("#check_recent").is(":checked") ? ($(".button-recent-visited").fadeIn(200), $("#check_recent").addClass("on"), $(".todolist").css("right", "220px")) : ($(".button-recent-visited").fadeOut(200), $("#check_recent").removeClass("on"), $(".todolist").css("right", "80px")) }) }

function setting_todolist() {
    !1 === JSON.parse(localStorage.getItem("value_check_todolist")) ? ($(".button-todo").fadeOut(200), $("#check_todolist").prop("checked", !1), $("#check_todolist").removeClass("on")) : ($(".button-todo").fadeIn(200), $("#check_todolist").prop("checked", !0), $("#check_todolist").addClass("on")), $("#check_todolist").click(function() { localStorage.setItem("value_check_todolist", JSON.stringify(document.getElementById("check_todolist").checked)), $(this).is(":checked") ? ($(".button-todo").fadeIn(200), $("#check_todolist").addClass("on")) : ($(".button-todo").fadeOut(200), $("#check_todolist").removeClass("on")) });
    var e = !0;
    $("#wrap-todo-list").on("drag", function(c) { e = !0, c.originalEvent.clientY < 150 && (e = !1, t(-1)), c.originalEvent.clientY > $(window).height() - 150 && (e = !1, t(1)) }), $("#wrap-todo-list").on("dragend", function(t) { e = !0 });
    var t = function(c) {
        var o = $(window).scrollTop();
        $(window).scrollTop(o + c), e || setTimeout(function() { t(c) }, 20)
    }
}

function settingShowHideWeather() { 0 == JSON.parse(localStorage.getItem("value_check_weather")) ? ($("#weather").css("position", "relative"), $(".wrap-weather").removeClass("show"), $("#check_weather").prop("checked", !1), $("#check_weather").removeClass("on"), $(".wrap-quotes-weather").show()) : ($(".wrap-weather").addClass("show"), $("#check_weather").prop("checked", !0), $("#check_weather").addClass("on"), $(".children-weather").slideDown(200)), $("#check_weather").click(function() { localStorage.setItem("value_check_weather", JSON.stringify(document.getElementById("check_weather").checked)), $(this).is(":checked") ? ($("#weather").css("position", "absolute"), $("#weather , .wrap-detail-weather").fadeIn(200), $(".wrap-weather").addClass("show"), $("#check_weather").addClass("on"), $(".children-weather").slideDown(200)) : ($("#weather , .wrap-detail-weather").fadeOut(200), $(".wrap-weather").removeClass("show"), $("#check_weather").removeClass("on"), $(".options-location-container").addClass("disabled"), $(".children-weather").slideUp(200)) }) }

function setting_quotes() {!1 === JSON.parse(localStorage.getItem("value_check_quotes")) ? ($("#quotes").fadeOut(200), $("#check_quotes").prop("checked", !1), $("#check_quotes").removeClass("on"), $(".weather-conditions").addClass("notSeperate")) : ($("#quotes").fadeIn(200), $("#check_quotes").prop("checked", !0), $("#check_quotes").addClass("on"), $(".weather-conditions").removeClass("notSeperate")), $("#check_quotes").click(function() { localStorage.setItem("value_check_quotes", JSON.stringify(document.getElementById("check_quotes").checked)), $(this).is(":checked") ? ($("#quotes").fadeIn(200), $("#check_quotes").addClass("on"), $(".weather-conditions").removeClass("notSeperate")) : ($("#quotes").fadeOut(200), $("#check_quotes").removeClass("on"), $(".weather-conditions").addClass("notSeperate")) }) }

function setting_clock() {
    !1 === JSON.parse(localStorage.getItem("value_check_clock")) ? ($("#clock").fadeOut(200), $("#check_clock").prop("checked", !1), $("#check_clock").removeClass("on"), $(".wrap-widget").css("top", "34%"), $(".children-clock").slideUp(200)) : ($("#clock").fadeIn(200), $("#check_clock").addClass("on"), $("#check_clock").prop("checked", !0), $(".wrap-widget").css("top", "24%"), $(".children-clock").slideDown(200)), $("#check_clock").click(function() { localStorage.setItem("value_check_clock", JSON.stringify(document.getElementById("check_clock").checked)), $(this).is(":checked") ? ($("#clock").slideDown(200), $("#check_clock").addClass("on"), $(".wrap-widget").css("top", "30%"), $(".children-clock").slideDown(200)) : ($("#clock").slideUp(200), $("#check_clock").removeClass("on"), $(".wrap-widget").css("top", "40%"), $(".children-clock").slideUp(200)) });
    var e = JSON.parse(localStorage.getItem("value_clock_24h")),
        t = JSON.parse(localStorage.getItem("value_clock_12h"));
    1 == e && ($("#clock-24h").prop("checked", !0), $("#clock-12h").prop("checked", !1)), 1 == t && ($("#clock-24h").prop("checked", !1), $("#clock-12h").prop("checked", !0))
}

function show_clock() {
    var e = new Date,
        t = e.getHours(),
        c = e.getHours(),
        o = e.getMinutes(),
        a = e.getSeconds();
    if ("0" == t && "0" == o && "0" == a) {
        var s = localStorage.getItem("newLocationLocalStorage");
        null != s && getWeather(s)
    }
    var r = "";
    t < 12 && (r = ""), t > 12 && (t -= 12);
    var l = new Date,
        n = new Array;
    n[0] = "January", n[1] = "February", n[2] = "March", n[3] = "April", n[4] = "May", n[5] = "June", n[6] = "July", n[7] = "August", n[8] = "September", n[9] = "October", n[10] = "November", n[11] = "December";
    var i = new Array;
    i[0] = "Chủ nhật", i[1] = "Thứ hưa", i[2] = "Ba đó", i[3] = "Tư đây", i[4] = "Năm đây", i[5] = "Sáu nè", i[6] = "Xuống anh", setTimeout("show_clock()", 1e3);
    var h = i[l.getDay()],
        d = l.getDate(),
        u = n[l.getMonth()],
        m = l.getFullYear();
    JSON.parse(localStorage.getItem("value_clock_12h")) ? ($("#hours").html(addZero(t) + ":" + addZero(o)), $("#ampm").html(r)) : ($("#hours").html(addZero(c) + ":" + addZero(o)), $("#ampm").html(" ")), $("#date").html(h + ", " + u + " " + addZero(d) + " " + m), $("#clock-12h-w").click(function() { $("#hours").html(addZero(t) + ":" + addZero(o)), $("#ampm").html(r), $("#clock-12h").prop("checked", !0), localStorage.setItem("value_clock_24h", JSON.stringify(document.getElementById("clock-24h").checked)), localStorage.setItem("value_clock_12h", JSON.stringify(document.getElementById("clock-12h").checked)) }), $("#clock-24h-w").click(function() { $("#hours").html(addZero(c) + ":" + addZero(o)), $("#ampm").html(""), $("#clock-24h").prop("checked", !0), localStorage.setItem("value_clock_24h", JSON.stringify(document.getElementById("clock-24h").checked)), localStorage.setItem("value_clock_12h", JSON.stringify(document.getElementById("clock-12h").checked)) })
}

function addZero(e) { return e < 10 && (e = "0" + e), e }
var iconSetting = '<img src="assets/img/setting.png">';
$(document).ready(function() {
    if (show_clock(), show_search(), setting_clock(), setting_search(), setting_recent(), setting_todolist(), settingShowHideWeather(), setting_quotes(), show_option(), 1 == statusHtmlStorage("data_api_cache")) localStorage.getItem("data_api_cache");
    else setHtmlStorage("data_api_cache", { data: "phi" }, 86400);
    $("#google-search-form").submit(function(e) { return "" != $(this).find("#input-text").val().trim() && ($(this).find("#input-text").each(function() { $(this).val($.trim($(this).val())) }), e.preventDefault(), !1) }), $("#google-btn").trigger("click"), chrome.history.search({ text: "", maxResults: 10 }, function(e) {
        for (var t = 1; t <= e.length; t++)
            if (void 0 !== e[t]) {
                var c = "";
                void 0 !== e[t].title && (c = e[t].title);
                var o = "#";
                void 0 !== e[t].url && ("" == c && (c = e[t].url), o = e[t].url);
                var a = '<li><a href="' + o + '" title="' + c + '"><img src="chrome://favicon/' + o + '" />' + c.substring(0, 50) + "</a></li>";
                $("#mostVisitedThumb").append(a)
            }
    }), chrome.runtime.onMessage.addListener(function(e, t, c) { "hello" == e.greeting && c({ farewell: "goodbye" }) })
});